<div class="main-wrapper">
  <div class="chat-container">
    <!-- Encabezado del chat -->
    <div class="chat-header">
      <img src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png" alt="Foto de Perfil" class="profile-photo">
      <div class="chat-info">
        <h4>{{ chatPartnerName || (currentRole === '[Role(id=1, name=LAWYER)]' ? 'Cliente #' + consultation?.clientId : 'Abogado #' + consultation?.lawyerId) }}</h4>
        <p>{{ consultation?.description }}</p>
      </div>
    </div>

    <!-- Área de mensajes -->
    <div class="chat-messages">
      <div
        *ngFor="let message of messages"
        [ngClass]="{'sent': isSentMessage(message.senderType), 'received': !isSentMessage(message.senderType)}"
        class="message"
      >
        {{ message.content }}
      </div>
    </div>
    <!-- Controles de envío -->
    <div class="chat-controls">
      <label for="file-input" class="file-label">
        <input type="file" id="file-input" class="file-input" (change)="onFileSelected($event)">
      </label>
      <input
        [(ngModel)]="newMessage"
        (keyup.enter)="sendMessage()"
        type="text"
        placeholder="Escribe tu mensaje..."
        class="message-input"
      />
      <button (click)="sendMessage()" class="send-button">Enviar</button>
    </div>
  </div>
</div>
