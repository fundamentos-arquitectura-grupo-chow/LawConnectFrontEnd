<div class="view-case">
  <div class="case-block">
    <div class="case-header">
      <h1>CASO LEGAL</h1>
      <div *ngIf="isCaseClosed" class="status-badge status-closed">
        CASO CERRADO
      </div>
      <div *ngIf="!isCaseClosed" class="status-badge status-open">
        CASO ACTIVO
      </div>
    </div>

    <div class="case-content">
      <div class="case-main-info">
        <div class="case-title">
          <h2>{{ legalCase?.title }}</h2>
        </div>
        <div class="case-description">
          <h3>Descripción del Caso</h3>
          <p>{{ legalCase?.description }}</p>
        </div>
      </div>

      <div class="actions">
        <button class="go-to" [disabled]="isCaseClosed" (click)="goToDocuments()">
          Gestionar Documentos
        </button>
        <button class="go-to" [disabled]="isCaseClosed" (click)="goToPayments()">
          Generar Pago
        </button>
      </div>
    </div>

    <div class="communication">
      <h3 class="communication-title">Herramientas de Comunicación</h3>
      <div class="communication-grid">
        <button class="see-communication" [disabled]="isCaseClosed" (click)="goToChatRoom()">
          Chat
        </button>
        <button class="see-communication" [disabled]="isCaseClosed" (click)="goToVideoCall()">
          Videollamada
        </button>
        <button class="see-communication" [disabled]="isCaseClosed" (click)="goToAppointments()">
          Citas
        </button>
      </div>
    </div>

    <div class="close-case" *ngIf="!isCaseClosed">
      <p class="warning-text">
        ⚠️ Una vez cerrado el caso, no podrás realizar más modificaciones
      </p>
      <button class="close" (click)="openCloseCasePopup('close')">
        Cerrar Caso Definitivamente
      </button>
    </div>
  </div>
</div>
